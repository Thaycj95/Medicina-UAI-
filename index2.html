<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Medicina UAI 游뽘游</title>
    <link href="https://fonts.googleapis.com/css2?family=Comfortaa:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Comfortaa', cursive;
            background: linear-gradient(to bottom, #FFB6C1, #EE82EE); /* Soft gradient background */
            margin: 0;
            padding: 20px;
            color: #333;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        h1 {
            color: #8B008B; /* Darker shade of pink for the title */
            margin-bottom: 20px;
            text-align: center;
            font-size: 2.5em;
        }
        .curriculum-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 20px;
            max-width: 1200px;
            width: 100%;
        }
        .year-column {
            background-color: #fff;
            border-radius: 15px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            padding: 20px;
            width: calc(33% - 20px); /* Three columns per row */
            box-sizing: border-box;
            min-width: 280px;
            margin-bottom: 20px; /* Space between rows of columns */
        }
        .year-column h2 {
            color: #FF69B4; /* Hot pink for year titles */
            text-align: center;
            margin-top: 0;
            margin-bottom: 20px;
            font-size: 1.8em;
        }
        .quarter {
            margin-bottom: 15px;
        }
        .quarter h3 {
            color: #EE82EE; /* Violet for quarter titles */
            margin-bottom: 10px;
            font-size: 1.3em;
            border-bottom: 1px solid #eee;
            padding-bottom: 5px;
        }
        .subject-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        .subject-item {
            background-color: #f9f9f9;
            border: 1px solid #ddd;
            border-radius: 8px;
            margin-bottom: 8px;
            padding: 10px 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
            transition: background-color 0.3s ease;
            position: relative;
        }
        .subject-item:hover:not(.locked) {
            background-color: #e9e9e9;
        }
        .subject-item.approved {
            background-color: #d4edda;
            border-color: #28a745;
            color: #155724;
        }
        .subject-item.locked {
            background-color: #ffe0e0;
            border-color: #dc3545;
            color: #6c0f13;
            cursor: not-allowed;
        }
        .subject-item .lock-icon {
            margin-left: 10px;
            color: #dc3545;
        }
        .subject-item .subject-name {
            flex-grow: 1;
        }
        /* Estilos para el tooltip de nota */
        .subject-item .grade-tooltip {
            visibility: hidden;
            background-color: #555;
            color: #fff;
            text-align: center;
            border-radius: 6px;
            padding: 5px 10px;
            position: absolute;
            z-index: 1;
            bottom: 125%; /* Position the tooltip above the text */
            left: 50%;
            transform: translateX(-50%);
            opacity: 0;
            transition: opacity 0.3s;
            white-space: nowrap; /* Prevent text wrapping */
        }
        .subject-item.approved:hover .grade-tooltip {
            visibility: visible;
            opacity: 1;
        }
        /* Estilos para el tooltip de correlativas */
        .subject-item .correlative-tooltip {
            visibility: hidden;
            background-color: rgba(0, 0, 0, 0.8);
            color: #fff;
            text-align: center;
            border-radius: 6px;
            padding: 5px 10px;
            position: absolute;
            z-index: 1;
            bottom: 125%; /* Position the tooltip above the text */
            left: 50%;
            transform: translateX(-50%);
            opacity: 0;
            transition: opacity 0.3s;
            width: max-content;
        }
        .subject-item.locked:hover .correlative-tooltip {
            visibility: visible;
            opacity: 1;
        }
        .stats-container {
            background-color: #fff;
            border-radius: 15px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            padding: 20px;
            margin-top: 20px;
            width: calc(100% - 40px);
            max-width: 600px;
            text-align: center;
            color: #FF69B4;
            font-size: 1.2em;
            font-weight: bold;
        }
        .stats-container p {
            margin: 5px 0;
        }
    </style>
</head>
<body>
    <h1>Medicina UAI 游뽘游</h1>

    <div class="stats-container">
        <p>Materias Aprobadas: <span id="approved-count">0</span> / 63</p>
        <p>Promedio de Notas Finales: <span id="average-grade">N/A</span></p>
    </div>

    <div class="curriculum-container">
        <div class="year-column" data-year="1">
            <h2>Primer A침o</h2>
            <div class="quarter">
                <h3>Primer Cuatrimestre</h3>
                <ul class="subject-list">
                    <li class="subject-item" data-code="01" data-name="ANATOM칈A HUMANA I">
                        <span class="subject-name">ANATOM칈A HUMANA I</span>
                        <span class="grade-tooltip"></span>
                    </li>
                    <li class="subject-item" data-code="02" data-name="HISTOLOG칈A-CITOLOG칈A-EMBRIOLOG칈A">
                        <span class="subject-name">HISTOLOG칈A-CITOLOG칈A-EMBRIOLOG칈A</span>
                        <span class="grade-tooltip"></span>
                    </li>
                    <li class="subject-item" data-code="03" data-name="INFORM츼TICA BIOM칄DICA I">
                        <span class="subject-name">INFORM츼TICA BIOM칄DICA I</span>
                        <span class="grade-tooltip"></span>
                    </li>
                    <li class="subject-item" data-code="04" data-name="HUMANISMO M칄DICO Y BIO칄TICA">
                        <span class="subject-name">HUMANISMO M칄DICO Y BIO칄TICA</span>
                        <span class="grade-tooltip"></span>
                    </li>
                    <li class="subject-item" data-code="05" data-name="DESTREZAS M칄DICAS EN PRIMEROS AUXILIOS">
                        <span class="subject-name">DESTREZAS M칄DICAS EN PRIMEROS AUXILIOS</span>
                        <span class="grade-tooltip"></span>
                    </li>
                </ul>
            </div>
            <div class="quarter">
                <h3>Segundo Cuatrimestre</h3>
                <ul class="subject-list">
                    <li class="subject-item" data-code="06" data-name="ANATOMIA HUMANA II" data-correlatives="01">
                        <span class="subject-name">ANATOMIA HUMANA II</span>
                        <span class="lock-icon">游<span class="correlative-tooltip"></span></span>
                        <span class="grade-tooltip"></span>
                    </li>
                    <li class="subject-item" data-code="07" data-name="HISTOLOG칈A-CITOLOG칈A-EMBRIOLOG칈A II" data-correlatives="02">
                        <span class="subject-name">HISTOLOG칈A-CITOLOG칈A-EMBRIOLOG칈A II</span>
                        <span class="lock-icon">游<span class="correlative-tooltip"></span></span>
                        <span class="grade-tooltip"></span>
                    </li>
                    <li class="subject-item" data-code="08" data-name="INGL칄S I">
                        <span class="subject-name">INGL칄S I</span>
                        <span class="grade-tooltip"></span>
                    </li>
                    <li class="subject-item" data-code="09" data-name="PREVENCI칍N PRIMARIA DE LA SALUD">
                        <span class="subject-name">PREVENCI칍N PRIMARIA DE LA SALUD</span>
                        <span class="grade-tooltip"></span>
                    </li>
                    <li class="subject-item" data-code="10" data-name="DESTREZAS M칄DICAS EN COMUNICACI칍N M칄DICO-PACIENTE">
                        <span class="subject-name">DESTREZAS M칄DICAS EN COMUNICACI칍N M칄DICO-PACIENTE</span>
                        <span class="grade-tooltip"></span>
                    </li>
                    <li class="subject-item" data-code="11" data-name="INTEGRACI칍N Y ENTRENAMIENTO DE ACTIVIDADES PROFESIONALES I">
                        <span class="subject-name">INTEGRACI칍N Y ENTRENAMIENTO DE ACTIVIDADES PROFESIONALES I</span>
                        <span class="grade-tooltip"></span>
                    </li>
                </ul>
            </div>
        </div>

        <div class="year-column" data-year="2">
            <h2>Segundo A침o</h2>
            <div class="quarter">
                <h3>Primer Cuatrimestre</h3>
                <ul class="subject-list">
                    <li class="subject-item" data-code="12" data-name="FISIOLOG칈A Y BIOF칈SICA I" data-correlatives="06,07">
                        <span class="subject-name">FISIOLOG칈A Y BIOF칈SICA I</span>
                        <span class="lock-icon">游<span class="correlative-tooltip"></span></span>
                        <span class="grade-tooltip"></span>
                    </li>
                    <li class="subject-item" data-code="13" data-name="BIOQU칈MICA Y BIOLOG칈A MOLECULAR I" data-correlatives="06,07">
                        <span class="subject-name">BIOQU칈MICA Y BIOLOG칈A MOLECULAR I</span>
                        <span class="lock-icon">游<span class="correlative-tooltip"></span></span>
                        <span class="grade-tooltip"></span>
                    </li>
                    <li class="subject-item" data-code="14" data-name="PRINCIPIOS B츼SICOS DE SALUD P칔BLICA">
                        <span class="subject-name">PRINCIPIOS B츼SICOS DE SALUD P칔BLICA</span>
                        <span class="grade-tooltip"></span>
                    </li>
                    <li class="subject-item" data-code="15" data-name="INGL칄S II" data-correlatives="08">
                        <span class="subject-name">INGL칄S II</span>
                        <span class="lock-icon">游<span class="correlative-tooltip"></span></span>
                        <span class="grade-tooltip"></span>
                    </li>
                    <li class="subject-item" data-code="16" data-name="DESTREZAS M칄DICAS: CUIDADOS DE ENFERMER칈A Y HABILIDADES CL칈NICAS" data-correlatives="10">
                        <span class="subject-name">DESTREZAS M칄DICAS: CUIDADOS DE ENFERMER칈A Y HABILIDADES CL칈NICAS</span>
                        <span class="lock-icon">游<span class="correlative-tooltip"></span></span>
                        <span class="grade-tooltip"></span>
                    </li>
                </ul>
            </div>
            <div class="quarter">
                <h3>Segundo Cuatrimestre</h3>
                <ul class="subject-list">
                    <li class="subject-item" data-code="17" data-name="FISIOLOG칈A Y BIOF칈SICA II" data-correlatives="12">
                        <span class="subject-name">FISIOLOG칈A Y BIOF칈SICA II</span>
                        <span class="lock-icon">游<span class="correlative-tooltip"></span></span>
                        <span class="grade-tooltip"></span>
                    </li>
                    <li class="subject-item" data-code="18" data-name="BIOQU칈MICA Y BIOLOG칈A MOLECULAR" data-correlatives="13">
                        <span class="subject-name">BIOQU칈MICA Y BIOLOG칈A MOLECULAR</span>
                        <span class="lock-icon">游<span class="correlative-tooltip"></span></span>
                        <span class="grade-tooltip"></span>
                    </li>
                    <li class="subject-item" data-code="19" data-name="MEDICINA DE ESTILO DE VIDA" data-correlatives="14">
                        <span class="subject-name">MEDICINA DE ESTILO DE VIDA</span>
                        <span class="lock-icon">游<span class="correlative-tooltip"></span></span>
                        <span class="grade-tooltip"></span>
                    </li>
                    <li class="subject-item" data-code="20" data-name="INFORM츼TICA BIOM칄DICA II" data-correlatives="03">
                        <span class="subject-name">INFORM츼TICA BIOM칄DICA II</span>
                        <span class="lock-icon">游<span class="correlative-tooltip"></span></span>
                        <span class="grade-tooltip"></span>
                    </li>
                    <li class="subject-item" data-code="21" data-name="DESTREZAS M칄DICAS: ACCIONES EN LA COMUNIDAD" data-correlatives="16">
                        <span class="subject-name">DESTREZAS M칄DICAS: ACCIONES EN LA COMUNIDAD</span>
                        <span class="lock-icon">游<span class="correlative-tooltip"></span></span>
                        <span class="grade-tooltip"></span>
                    </li>
                    <li class="subject-item" data-code="22" data-name="INTEGRACI칍N Y ENTRENAMIENTO DE ACTIVIDADES PROFESIONALES II" data-correlatives="11">
                        <span class="subject-name">INTEGRACI칍N Y ENTRENAMIENTO DE ACTIVIDADES PROFESIONALES II</span>
                        <span class="lock-icon">游<span class="correlative-tooltip"></span></span>
                        <span class="grade-tooltip"></span>
                    </li>
                </ul>
            </div>
        </div>

        <div class="year-column" data-year="3">
            <h2>Tercer A침o</h2>
            <div class="quarter">
                <h3>Primer Cuatrimestre</h3>
                <ul class="subject-list">
                    <li class="subject-item" data-code="23" data-name="PATOLOG칈A I" data-correlatives="17">
                        <span class="subject-name">PATOLOG칈A I</span>
                        <span class="lock-icon">游<span class="correlative-tooltip"></span></span>
                        <span class="grade-tooltip"></span>
                    </li>
                    <li class="subject-item" data-code="24" data-name="FISIOPATOLOG칈A I" data-correlatives="17">
                        <span class="subject-name">FISIOPATOLOG칈A I</span>
                        <span class="lock-icon">游<span class="correlative-tooltip"></span></span>
                        <span class="grade-tooltip"></span>
                    </li>
                    <li class="subject-item" data-code="25" data-name="MICROBIOLOG칈A E INMUNOLOG칈A I" data-correlatives="18">
                        <span class="subject-name">MICROBIOLOG칈A E INMUNOLOG칈A I</span>
                        <span class="lock-icon">游<span class="correlative-tooltip"></span></span>
                        <span class="grade-tooltip"></span>
                    </li>
                    <li class="subject-item" data-code="26" data-name="FARMACOLOG칈A I" data-correlatives="18">
                        <span class="subject-name">FARMACOLOG칈A I</span>
                        <span class="lock-icon">游<span class="correlative-tooltip"></span></span>
                        <span class="grade-tooltip"></span>
                    </li>
                    <li class="subject-item" data-code="27" data-name="SALUD MENTAL Y NEUROCIENCIAS I">
                        <span class="subject-name">SALUD MENTAL Y NEUROCIENCIAS I</span>
                        <span class="grade-tooltip"></span>
                    </li>
                    <li class="subject-item" data-code="28" data-name="DESTREZAS M칄DICAS: INTRODUCCI칍N A LA SEMIOLOG칈A" data-correlatives="21">
                        <span class="subject-name">DESTREZAS M칄DICAS: INTRODUCCI칍N A LA SEMIOLOG칈A</span>
                        <span class="lock-icon">游<span class="correlative-tooltip"></span></span>
                        <span class="grade-tooltip"></span>
                    </li>
                </ul>
            </div>
            <div class="quarter">
                <h3>Segundo Cuatrimestre</h3>
                <ul class="subject-list">
                    <li class="subject-item" data-code="29" data-name="PATOLOG칈A II" data-correlatives="23">
                        <span class="subject-name">PATOLOG칈A II</span>
                        <span class="lock-icon">游<span class="correlative-tooltip"></span></span>
                        <span class="grade-tooltip"></span>
                    </li>
                    <li class="subject-item" data-code="30" data-name="FISIOPATOLOG칈A II" data-correlatives="24">
                        <span class="subject-name">FISIOPATOLOG칈A II</span>
                        <span class="lock-icon">游<span class="correlative-tooltip"></span></span>
                        <span class="grade-tooltip"></span>
                    </li>
                    <li class="subject-item" data-code="31" data-name="MICROBIOLOG칈A E INMUNOLOG칈A II" data-correlatives="25">
                        <span class="subject-name">MICROBIOLOG칈A E INMUNOLOG칈A II</span>
                        <span class="lock-icon">游<span class="correlative-tooltip"></span></span>
                        <span class="grade-tooltip"></span>
                    </li>
                    <li class="subject-item" data-code="32" data-name="FARMACOLOG칈A II" data-correlatives="26">
                        <span class="subject-name">FARMACOLOG칈A II</span>
                        <span class="lock-icon">游<span class="correlative-tooltip"></span></span>
                        <span class="grade-tooltip"></span>
                    </li>
                    <li class="subject-item" data-code="33" data-name="INTRODUCCI칍N A LA INVESTIGACI칍N BIOM칄DICA">
                        <span class="subject-name">INTRODUCCI칍N A LA INVESTIGACI칍N BIOM칄DICA</span>
                        <span class="grade-tooltip"></span>
                    </li>
                    <li class="subject-item" data-code="34" data-name="DESTREZAS M칄DICAS EN EL PRIMER NIVEL DE ATENCI칍N" data-correlatives="21">
                        <span class="subject-name">DESTREZAS M칄DICAS EN EL PRIMER NIVEL DE ATENCI칍N</span>
                        <span class="lock-icon">游<span class="correlative-tooltip"></span></span>
                        <span class="grade-tooltip"></span>
                    </li>
                    <li class="subject-item" data-code="35" data-name="INTEGRACI칍N Y ENTRENAMIENTO DE ACTIVIDADES PROFESIONALES III" data-correlatives="22">
                        <span class="subject-name">INTEGRACI칍N Y ENTRENAMIENTO DE ACTIVIDADES PROFESIONALES III</span>
                        <span class="lock-icon">游<span class="correlative-tooltip"></span></span>
                        <span class="grade-tooltip"></span>
                    </li>
                </ul>
            </div>
        </div>
    </div>

    <div class="curriculum-container">
        <div class="year-column" data-year="4">
            <h2>Cuarto A침o</h2>
            <div class="quarter">
                <h3>Anual</h3>
                <ul class="subject-list">
                    <li class="subject-item" data-code="36" data-name="MEDICINA INTERNA I" data-correlatives="28,29,30,31,34">
                        <span class="subject-name">MEDICINA INTERNA I</span>
                        <span class="lock-icon">游<span class="correlative-tooltip"></span></span>
                        <span class="grade-tooltip"></span>
                    </li>
                    <li class="subject-item" data-code="37" data-name="MEDICINA INTERNA II" data-correlatives="29,30,31,32,34,36">
                        <span class="subject-name">MEDICINA INTERNA II</span>
                        <span class="lock-icon">游<span class="correlative-tooltip"></span></span>
                        <span class="grade-tooltip"></span>
                    </li>
                    <li class="subject-item" data-code="38" data-name="B칔SQUEDA E INTERPRETACI칍N DE BIBLIOGRAF칈A BIOM칄DICA" data-correlatives="33">
                        <span class="subject-name">B칔SQUEDA E INTERPRETACI칍N DE BIBLIOGRAF칈A BIOM칄DICA</span>
                        <span class="lock-icon">游<span class="correlative-tooltip"></span></span>
                        <span class="grade-tooltip"></span>
                    </li>
                    <li class="subject-item" data-code="39" data-name="CIRUG칈A GENERAL" data-correlatives="27,28,29,30">
                        <span class="subject-name">CIRUG칈A GENERAL</span>
                        <span class="lock-icon">游<span class="correlative-tooltip"></span></span>
                        <span class="grade-tooltip"></span>
                    </li>
                    <li class="subject-item" data-code="40" data-name="TRABAJO, AMBIENTE Y SALUD">
                        <span class="subject-name">TRABAJO, AMBIENTE Y SALUD</span>
                        <span class="grade-tooltip"></span>
                    </li>
                    <li class="subject-item" data-code="41" data-name="GESTI칍N EN SALUD Y SEGURIDAD DEL PACIENTE">
                        <span class="subject-name">GESTI칍N EN SALUD Y SEGURIDAD DEL PACIENTE</span>
                        <span class="grade-tooltip"></span>
                    </li>
                    <li class="subject-item" data-code="42" data-name="FUNDAMENTOS DE DIAGN칍STICO POR IM츼GENES">
                        <span class="subject-name">FUNDAMENTOS DE DIAGN칍STICO POR IM츼GENES</span>
                        <span class="grade-tooltip"></span>
                    </li>
                    <li class="subject-item" data-code="43" data-name="OPTATIVA I">
                        <span class="subject-name">OPTATIVA I</span>
                        <span class="grade-tooltip"></span>
                    </li>
                    <li class="subject-item" data-code="44" data-name="INTEGRACI칍N Y ENTRENAMIENTO DE ACTIVIDADES PROFESIONALES IV" data-correlatives="35">
                        <span class="subject-name">INTEGRACI칍N Y ENTRENAMIENTO DE ACTIVIDADES PROFESIONALES IV</span>
                        <span class="lock-icon">游<span class="correlative-tooltip"></span></span>
                        <span class="grade-tooltip"></span>
                    </li>
                </ul>
            </div>
        </div>

        <div class="year-column" data-year="5">
            <h2>Quinto A침o</h2>
            <div class="quarter">
                <h3>Anual</h3>
                <ul class="subject-list">
                    <li class="subject-item" data-code="45" data-name="DISE칌O DE INVESTIGACIONES BIOM칄DICAS" data-correlatives="38">
                        <span class="subject-name">DISE칌O DE INVESTIGACIONES BIOM칄DICAS</span>
                        <span class="lock-icon">游<span class="correlative-tooltip"></span></span>
                        <span class="grade-tooltip"></span>
                    </li>
                    <li class="subject-item" data-code="46" data-name="ENFERMEDADES INFECCIOSAS" data-correlatives="36,37">
                        <span class="subject-name">ENFERMEDADES INFECCIOSAS</span>
                        <span class="lock-icon">游<span class="correlative-tooltip"></span></span>
                        <span class="grade-tooltip"></span>
                    </li>
                    <li class="subject-item" data-code="47" data-name="FARMACOLOG칈A Y TERAP칄UTICA" data-correlatives="32,36,37">
                        <span class="subject-name">FARMACOLOG칈A Y TERAP칄UTICA</span>
                        <span class="lock-icon">游<span class="correlative-tooltip"></span></span>
                        <span class="grade-tooltip"></span>
                    </li>
                    <li class="subject-item" data-code="48" data-name="SALUD MENTAL Y NEUROCIENCIAS II" data-correlatives="27,36,37">
                        <span class="subject-name">SALUD MENTAL Y NEUROCIENCIAS II</span>
                        <span class="lock-icon">游<span class="correlative-tooltip"></span></span>
                        <span class="grade-tooltip"></span>
                    </li>
                    <li class="subject-item" data-code="49" data-name="GINECOLOG칈A Y OBSTETRICIA" data-correlatives="36,37,39">
                        <span class="subject-name">GINECOLOG칈A Y OBSTETRICIA</span>
                        <span class="lock-icon">游<span class="correlative-tooltip"></span></span>
                        <span class="grade-tooltip"></span>
                    </li>
                    <li class="subject-item" data-code="50" data-name="PEDIATR칈A" data-correlatives="36,37">
                        <span class="subject-name">PEDIATR칈A</span>
                        <span class="lock-icon">游<span class="correlative-tooltip"></span></span>
                        <span class="grade-tooltip"></span>
                    </li>
                    <li class="subject-item" data-code="51" data-name="MEDICINA LEGAL Y BIO칄TICA" data-correlatives="36,37">
                        <span class="subject-name">MEDICINA LEGAL Y BIO칄TICA</span>
                        <span class="lock-icon">游<span class="correlative-tooltip"></span></span>
                        <span class="grade-tooltip"></span>
                    </li>
                    <li class="subject-item" data-code="52" data-name="TOXICOLOG칈A" data-correlatives="36,37">
                        <span class="subject-name">TOXICOLOG칈A</span>
                        <span class="lock-icon">游<span class="correlative-tooltip"></span></span>
                        <span class="grade-tooltip"></span>
                    </li>
                    <li class="subject-item" data-code="53" data-name="EMERGENTOLOG칈A" data-correlatives="36,37,39">
                        <span class="subject-name">EMERGENTOLOG칈A</span>
                        <span class="lock-icon">游<span class="correlative-tooltip"></span></span>
                        <span class="grade-tooltip"></span>
                    </li>
                    <li class="subject-item" data-code="54" data-name="GERONTOLOG칈A" data-correlatives="36,37,39">
                        <span class="subject-name">GERONTOLOG칈A</span>
                        <span class="lock-icon">游<span class="correlative-tooltip"></span></span>
                        <span class="grade-tooltip"></span>
                    </li>
                    <li class="subject-item" data-code="55" data-name="REHABILITACI칍N" data-correlatives="36,37,39">
                        <span class="subject-name">REHABILITACI칍N</span>
                        <span class="lock-icon">游<span class="correlative-tooltip"></span></span>
                        <span class="grade-tooltip"></span>
                    </li>
                    <li class="subject-item" data-code="56" data-name="ORTOPEDIA Y TRAUMATOLOG칈A" data-correlatives="36,37,39">
                        <span class="subject-name">ORTOPEDIA Y TRAUMATOLOG칈A</span>
                        <span class="lock-icon">游<span class="correlative-tooltip"></span></span>
                        <span class="grade-tooltip"></span>
                    </li>
                    <li class="subject-item" data-code="57" data-name="OPTATIVA II">
                        <span class="subject-name">OPTATIVA II</span>
                        <span class="grade-tooltip"></span>
                    </li>
                    <li class="subject-item" data-code="58" data-name="OPTATIVA III">
                        <span class="subject-name">OPTATIVA III</span>
                        <span class="grade-tooltip"></span>
                    </li>
                    <li class="subject-item" data-code="59" data-name="INTEGRACI칍N Y ENTRENAMIENTO DE ACTIVIDADES PROFESIONALES V" data-correlatives="44">
                        <span class="subject-name">INTEGRACI칍N Y ENTRENAMIENTO DE ACTIVIDADES PROFESIONALES V</span>
                        <span class="lock-icon">游<span class="correlative-tooltip"></span></span>
                        <span class="grade-tooltip"></span>
                    </li>
                </ul>
            </div>
        </div>

        <div class="year-column" data-year="6">
            <h2>Sexto A침o</h2>
            <div class="quarter">
                <h3>Anual</h3>
                <ul class="subject-list">
                    <li class="subject-item" data-code="60" data-name="PASANT칈A M칄DICA COMUNITARIA" data-correlatives="01,02,03,04,05,06,07,08,09,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39">
                        <span class="subject-name">PASANT칈A M칄DICA COMUNITARIA</span>
                        <span class="lock-icon">游<span class="correlative-tooltip"></span></span>
                        <span class="grade-tooltip"></span>
                    </li>
                    <li class="subject-item" data-code="61" data-name="INTERNADO ROTATORIO OBLIGATORIO" data-correlatives="01,02,03,04,05,06,07,08,09,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59">
                        <span class="subject-name">INTERNADO ROTATORIO OBLIGATORIO</span>
                        <span class="lock-icon">游<span class="correlative-tooltip"></span></span>
                        <span class="grade-tooltip"></span>
                    </li>
                    <li class="subject-item" data-code="62" data-name="TRABAJO FINAL" data-correlatives="01,02,03,04,05,06,07,08,09,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59">
                        <span class="subject-name">TRABAJO FINAL</span>
                        <span class="lock-icon">游<span class="correlative-tooltip"></span></span>
                        <span class="grade-tooltip"></span>
                    </li>
                    <li class="subject-item" data-code="63" data-name="EXAMEN FINAL" data-correlatives="01,02,03,04,05,06,07,08,09,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62">
                        <span class="subject-name">EXAMEN FINAL</span>
                        <span class="lock-icon">游<span class="correlative-tooltip"></span></span>
                        <span class="grade-tooltip"></span>
                    </li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        const subjectsData = {
            "01": "ANATOM칈A HUMANA I",
            "02": "HISTOLOG칈A-CITOLOG칈A-EMBRIOLOG칈A",
            "03": "INFORM츼TICA BIOM칄DICA I",
            "04": "HUMANISMO M칄DICO Y BIO칄TICA",
            "05": "DESTREZAS M칄DICAS EN PRIMEROS AUXILIOS",
            "06": "ANATOMIA HUMANA II",
            "07": "HISTOLOG칈A-CITOLOG칈A-EMBRIOLOG칈A II",
            "08": "INGL칄S I",
            "09": "PREVENCI칍N PRIMARIA DE LA SALUD",
            "10": "DESTREZAS M칄DICAS EN COMUNICACI칍N M칄DICO-PACIENTE",
            "11": "INTEGRACI칍N Y ENTRENAMIENTO DE ACTIVIDADES PROFESIONALES I",
            "12": "FISIOLOG칈A Y BIOF칈SICA I",
            "13": "BIOQU칈MICA Y BIOLOG칈A MOLECULAR I",
            "14": "PRINCIPIOS B츼SICOS DE SALUD P칔BLICA",
            "15": "INGL칄S II",
            "16": "DESTREZAS M칄DICAS: CUIDADOS DE ENFERMER칈A Y HABILIDADES CL칈NICAS",
            "17": "FISIOLOG칈A Y BIOF칈SICA II",
            "18": "BIOQU칈MICA Y BIOLOG칈A MOLECULAR",
            "19": "MEDICINA DE ESTILO DE VIDA",
            "20": "INFORM츼TICA BIOM칄DICA II",
            "21": "DESTREZAS M칄DICAS: ACCIONES EN LA COMUNIDAD",
            "22": "INTEGRACI칍N Y ENTRENAMIENTO DE ACTIVIDADES PROFESIONALES II",
            "23": "PATOLOG칈A I",
            "24": "FISIOPATOLOG칈A I",
            "25": "MICROBIOLOG칈A E INMUNOLOG칈A I",
            "26": "FARMACOLOG칈A I",
            "27": "SALUD MENTAL Y NEUROCIENCIAS I",
            "28": "DESTREZAS M칄DICAS: INTRODUCCI칍N A LA SEMIOLOG칈A",
            "29": "PATOLOG칈A II",
            "30": "FISIOPATOLOG칈A II",
            "31": "MICROBIOLOG칈A E INMUNOLOG칈A II",
            "32": "FARMACOLOG칈A II",
            "33": "INTRODUCCI칍N A LA INVESTIGACI칍N BIOM칄DICA",
            "34": "DESTREZAS M칄DICAS EN EL PRIMER NIVEL DE ATENCI칍N",
            "35": "INTEGRACI칍N Y ENTRENAMIENTO DE ACTIVIDADES PROFESIONALES III",
            "36": "MEDICINA INTERNA I",
            "37": "MEDICINA INTERNA II",
            "38": "B칔SQUEDA E INTERPRETACI칍N DE BIBLIOGRAF칈A BIOM칄DICA",
            "39": "CIRUG칈A GENERAL",
            "40": "TRABAJO, AMBIENTE Y SALUD",
            "41": "GESTI칍N EN SALUD Y SEGURIDAD DEL PACIENTE",
            "42": "FUNDAMENTOS DE DIAGN칍STICO POR IM츼GENES",
            "43": "OPTATIVA I",
            "44": "INTEGRACI칍N Y ENTRENAMIENTO DE ACTIVIDADES PROFESIONALES IV",
            "45": "DISE칌O DE INVESTIGACIONES BIOM칄DICAS",
            "46": "ENFERMEDADES INFECCIOSAS",
            "47": "FARMACOLOG칈A Y TERAP칄UTICA",
            "48": "SALUD MENTAL Y NEUROCIENCIAS II",
            "49": "GINECOLOG칈A Y OBSTETRICIA",
            "50": "PEDIATR칈A",
            "51": "MEDICINA LEGAL Y BIO칄TICA",
            "52": "TOXICOLOG칈A",
            "53": "EMERGENTOLOG칈A",
            "54": "GERONTOLOG칈A",
            "55": "REHABILITACI칍N",
            "56": "ORTOPEDIA Y TRAUMATOLOG칈A",
            "57": "OPTATIVA II",
            "58": "OPTATIVA III",
            "59": "INTEGRACI칍N Y ENTRENAMIENTO DE ACTIVIDADES PROFESIONALES V",
            "60": "PASANT칈A M칄DICA COMUNITARIA",
            "61": "INTERNADO ROTATORIO OBLIGATORIO",
            "62": "TRABAJO FINAL",
            "63": "EXAMEN FINAL"
        };

        const subjectItems = document.querySelectorAll('.subject-item');
        const approvedCountSpan = document.getElementById('approved-count');
        const averageGradeSpan = document.getElementById('average-grade');
        let approvedSubjects = new Set();
        let subjectGrades = {};

        function saveProgress() {
            localStorage.setItem('approvedSubjects', JSON.stringify(Array.from(approvedSubjects)));
            localStorage.setItem('subjectGrades', JSON.stringify(subjectGrades));
        }

        function loadProgress() {
            const savedApproved = localStorage.getItem('approvedSubjects');
            const savedGrades = localStorage.getItem('subjectGrades');
            if (savedApproved) {
                approvedSubjects = new Set(JSON.parse(savedApproved));
            }
            if (savedGrades) {
                subjectGrades = JSON.parse(savedGrades);
            }
        }

        function updateCurriculum() {
            let totalGrades = 0;
            let countGrades = 0;

            subjectItems.forEach(item => {
                const code = item.dataset.code;
                const correlatives = item.dataset.correlatives ? item.dataset.correlatives.split(',') : [];
                let isLocked = false;
                let missingCorrelatives = [];

                correlatives.forEach(corrCode => {
                    if (!approvedSubjects.has(corrCode)) {
                        isLocked = true;
                        missingCorrelatives.push(subjectsData[corrCode]);
                    }
                });

                const lockIcon = item.querySelector('.lock-icon');
                const gradeTooltip = item.querySelector('.grade-tooltip');
                const correlativeTooltip = item.querySelector('.correlative-tooltip');


                if (approvedSubjects.has(code)) {
                    item.classList.add('approved');
                    item.classList.remove('locked');
                    item.style.cursor = 'pointer';
                    if (lockIcon) {
                        lockIcon.style.display = 'none'; // Oculta el candado si la materia est치 aprobada
                    }
                    if (gradeTooltip) {
                        gradeTooltip.textContent = `Nota: ${subjectGrades[code]}`; // Muestra la nota
                    }
                    if (correlativeTooltip) {
                        correlativeTooltip.textContent = ''; // Limpia el tooltip de correlativas
                    }

                    const grade = parseFloat(subjectGrades[code]);
                    if (!isNaN(grade)) {
                        totalGrades += grade;
                        countGrades++;
                    }
                } else if (isLocked) {
                    item.classList.add('locked');
                    item.classList.remove('approved');
                    item.style.cursor = 'not-allowed';
                    if (correlativeTooltip) {
                        correlativeTooltip.textContent = "Faltan: " + missingCorrelatives.join(', ');
                    }
                    if (lockIcon) {
                        lockIcon.style.display = 'inline-block'; // Muestra el candado si la materia est치 bloqueada
                    }
                    if (gradeTooltip) {
                        gradeTooltip.textContent = ''; // Limpia el tooltip de nota
                    }
                } else {
                    item.classList.remove('approved', 'locked');
                    item.style.cursor = 'pointer';
                    if (lockIcon) {
                        lockIcon.style.display = 'none'; // Oculta el candado si no tiene correlativas o est치n aprobadas
                    }
                    if (gradeTooltip) {
                        gradeTooltip.textContent = ''; // Limpia el tooltip de nota
                    }
                    if (correlativeTooltip) {
                        correlativeTooltip.textContent = ''; // Limpia el tooltip de correlativas
                    }
                }
            });

            approvedCountSpan.textContent = approvedSubjects.size;
            if (countGrades > 0) {
                averageGradeSpan.textContent = (totalGrades / countGrades).toFixed(4);
            } else {
                averageGradeSpan.textContent = "N/A";
            }
        }

        subjectItems.forEach(item => {
            item.addEventListener('click', () => {
                const code = item.dataset.code;
                const correlatives = item.dataset.correlatives ? item.dataset.correlatives.split(',') : [];

                if (approvedSubjects.has(code)) {
                    // Si ya est치 aprobada, pregunta si desea desaprobar
                    const currentGrade = subjectGrades[code];
                    const confirmUnapprove = confirm(`La materia "${item.dataset.name}" ya est치 aprobada con una nota de: ${currentGrade}.\n쮻eseas desaprobarla?`);
                    if (confirmUnapprove) {
                        approvedSubjects.delete(code);
                        delete subjectGrades[code];
                        saveProgress();
                        updateCurriculum();
                    }
                } else {
                    // Si no est치 aprobada, verifica correlativas para aprobar
                    let canApprove = true;
                    let missingCorrelatives = [];
                    correlatives.forEach(corrCode => {
                        if (!approvedSubjects.has(corrCode)) {
                            canApprove = false;
                            missingCorrelatives.push(subjectsData[corrCode]);
                        }
                    });

                    if (canApprove) {
                        let grade;
                        do {
                            grade = prompt(`Ingrese la nota final para ${item.dataset.name} (1-10):`);
                            if (grade === null) { // User cancelled
                                return;
                            }
                            grade = parseFloat(grade);
                        } while (isNaN(grade) || grade < 1 || grade > 10);
                        
                        approvedSubjects.add(code);
                        subjectGrades[code] = grade;
                        saveProgress();
                        updateCurriculum();
                        // No es necesario el alert aqu칤 porque ahora la nota se mostrar치 en el tooltip.
                    } else {
                        const missingNames = missingCorrelatives.map(code => subjectsData[code]);
                        alert(`Debes aprobar las siguientes materias primero: ${missingNames.join(', ')}`);
                    }
                }
            });
        });

        // Initial load and update
        loadProgress();
        updateCurriculum();
    </script>
</body>
</html>
